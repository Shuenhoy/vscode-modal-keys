
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>ModalKeys - Change Log</title>
    <link rel="icon" type="image/icon" href="images/favicon.png" />
    <link rel="stylesheet" href="css/main.css" />


</head>
<body>

    <div class="navbar">
        <div class="navmenu">

    <a class="title enabled" href="index.html">
        <img src="images/escape.svg" />
        <span>ModalKeys</span>
    </a>
    <a class="enabled" href="https://marketplace.visualstudio.com/items?itemName=johtela.vscode-modaledit">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zm-132.9 88.7L299.3 420.7c-6.2 6.2-16.4 6.2-22.6 0L171.3 315.3c-10.1-10.1-2.9-27.3 11.3-27.3H248V176c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16v112h65.4c14.2 0 21.4 17.2 11.3 27.3z"/></svg>
        <span>Download</span>
    </a>
    <a class="enabled" href="https://github.com/johtela/vscode-modaledit">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
        <span>GitHub</span>
    </a>
    <a class="enabled" href="LICENSE.html">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm192.81 248H304c8.84 0 16 7.16 16 16s-7.16 16-16 16h-47.19c-16.45 0-31.27-9.14-38.64-23.86-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34a15.986 15.986 0 0 1-14.31 8.84c-.38 0-.75-.02-1.14-.05-6.45-.45-12-4.75-14.03-10.89L144 354.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.77-16.19 54.05-9.7 66 14.16 2.02 4.06 5.96 6.5 10.16 6.5zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"/></svg>
        <span>License</span>
    </a>
    <a class="enabled" href="src/commands.html">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M223.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L319.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L393.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34zm-192 34l136 136c9.4 9.4 24.6 9.4 33.9 0l22.6-22.6c9.4-9.4 9.4-24.6 0-33.9L127.9 256l96.4-96.4c9.4-9.4 9.4-24.6 0-33.9L201.7 103c-9.4-9.4-24.6-9.4-33.9 0l-136 136c-9.5 9.4-9.5 24.6-.1 34z"/></svg>
        <span>Previous: Commands</span>
    </a>
    <a class="enabled" href="LICENSE.html">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34zm192-34l-136-136c-9.4-9.4-24.6-9.4-33.9 0l-22.6 22.6c-9.4 9.4-9.4 24.6 0 33.9l96.4 96.4-96.4 96.4c-9.4 9.4-9.4 24.6 0 33.9l22.6 22.6c9.4 9.4 24.6 9.4 33.9 0l136-136c9.4-9.2 9.4-24.4 0-33.8z"/></svg>
        <span>Next: License</span>
    </a>
        </div>

    <a class="hamburger">
        <div class="bar1"></div>
        <div class="bar2"></div>
        <div class="bar3"></div>
    </a>
    </div>

    <div class="layout">
        <div class="sidepane collapsible">

    <div class="tocmenu">
        <h3>Table of Contents</h3>

    <ul>

    <li>

        <a href="README.html">Home</a>

    </li>
    <li>

        <a href="tutorial.html">Tutorial</a>

    </li>
    <li>

        <a href="presets/vim.html">Vim Presets</a>

    </li>
    <li>
        <button class="accordion">
        Implementation
        </button>

    <ul>

    <li>

        <a href="src/extension.html">Extension</a>

    </li>
    <li>

        <a href="src/actions.html">Actions</a>

    </li>
    <li>

        <a href="src/commands.html">Commands</a>

    </li>
    </ul>
    </li>
    <li>

        <a href="CHANGELOG.html" class="highlight">Change Log</a>

    </li>
    <li>

        <a href="LICENSE.html">License</a>

    </li>
    </ul>
    </div>

    <div class="footer">
        Copyright Â© 2020 Tommi Johtela
        <div class="ad">
            Created with <a href="https://github.com/johtela/litscript">LiTScript</a>
        </div>
    </div>

        </div>
        <div class="sideicon collapsible">

    <a class="hamburger">
        <div class="bar1"></div>
        <div class="bar2"></div>
        <div class="bar3"></div>
    </a>
        </div>
        <div class="scrollingarea closepopups">

    <div class="contentarea">
        <h1 id="change-log">Change Log</h1>
<p>All notable changes to the ModalKeys extension will be documented in this file.</p>
<h2 id="version-1-0">Version 1.0</h2>
<ul>
<li>Initial release</li>
</ul>
<h2 id="version-1-1">Version 1.1</h2>
<ul>
<li>Added <code>selectTillMatch</code> argument to <code>modalEdit.search</code> command.</li>
<li>Editor does not automatically revert back to normal mode when changing window.</li>
</ul>
<h2 id="version-1-2">Version 1.2</h2>
<ul>
<li>Added <code>startInNormalMode</code> setting, resolving issue
<a href="https://github.com/johtela/vscode-modaledit/issues/1">#1</a></li>
</ul>
<h2 id="version-1-3">Version 1.3</h2>
<ul>
<li>Incremental search now returns to insert mode, if it was invoked from there
<a href="https://github.com/johtela/vscode-modaledit/issues/4">#4</a></li>
<li>Added new command <code>modaledit.typeNormalKeys</code> which can be used to &quot;call&quot;
key bindings. Also fixes issue
<a href="https://github.com/johtela/vscode-modaledit/issues/3">#3</a></li>
<li>Added new argument <code>typeAfterAccept</code> to <code>modaledit.search</code> command. This
invokes normal mode key bindings (using <code>modaledit.typeNormalKeys</code>) after
successful search. The argument can be used to enter insert mode, or clear
selection after search, for example.</li>
</ul>
<h2 id="version-1-4">Version 1.4</h2>
<ul>
<li>Fixed few issues with <code>modaledit.search</code> command.</li>
<li>You can use <code>__selection</code> variable in JS expressions to access currently
selected text.</li>
</ul>
<h2 id="version-1-5">Version 1.5</h2>
<p>Update that was sparked by issue <a href="https://github.com/johtela/vscode-modaledit/issues/6">#6</a>.
Contains multiple new features:</p>
<ul>
<li><code>repeat</code> attribute added to commands with parameters.</li>
<li>Keymaps can contain <a href="https://johtela.github.io/vscode-modaledit/docs/README.html#key-ranges">key ranges</a>.</li>
<li>Support for <a href="https://johtela.github.io/vscode-modaledit/docs/README.html#defining-recursive-keymaps">recursive keymaps</a>.</li>
<li>New <code>__keySequence</code> variable added to JS expressions. Contains the key
sequence that was used to invoke a command.</li>
<li>New property <code>help</code> added to keymaps. The help string is shown in the status
bar when the associated keymap is active.</li>
<li>Added ModalKeys log to <a href="https://johtela.github.io/vscode-modaledit/docs/README.html#debugging-keybindings">output window</a>.</li>
<li>Semi-large refactoring of type definitions in the <a href="https://johtela.github.io/vscode-modaledit/docs/src/actions.html">actions module</a>.</li>
</ul>
<h2 id="version-1-6">Version 1.6</h2>
<ul>
<li><a href="https://johtela.github.io/vscode-modaledit/docs/README.html#selecting-text-between-delimiters">New command <code>modaledit.selectBetween</code></a>
selects text between two delimiter strings. Especially useful when combined
with the key ranges and recursive keymaps introduced in version 1.5.</li>
<li>Added a shorter alias <code>__keys</code> to the <code>__keySequence</code> variable available in
JS expressions.</li>
</ul>
<h2 id="version-1-7">Version 1.7</h2>
<p>Two &quot;repeat&quot; related bigger improvements:</p>
<ul>
<li>New <a href="https://johtela.github.io/vscode-modaledit/docs/README.html#repeat-last-change"><code>modaledit.repeatLastChange</code> command</a>
emulates Vim's dot <code>.</code> command quite faithfully.</li>
<li>The <code>repeat</code> property used in context with
<a href="https://johtela.github.io/vscode-modaledit/docs/README.html#commands-with-arguments">commands taking arguments</a> can now also contain a JS expression that
returns a boolean value. In this case, the value is used as a condition that
tells if the command should be repeated. The command is repeated as long as
the expression returns a truthy value.</li>
</ul>
<p>And some minor changes:</p>
<ul>
<li>New variable <code>__rkeys</code> available for use in JS expressions. It contains the
keys pressed to invoke a command in reverse order. This is handy if you need
to access the last keys in the sequence. They are conveniently the first ones
in <code>__rkeys</code>.</li>
<li>Removed unneeded images from the extension package. The package is now 3 MBs
smaller.</li>
</ul>
<h2 id="version-2-0">Version 2.0</h2>
<p>Major release containing lot of new features and improvements.</p>
<h3 id="preset-keybindings">Preset keybindings</h3>
<p>It is possible now to import keybindings through the <code>modaledit.importPresets</code>
command. <a href="preset/vim.html">Vim presets</a> are included in the extension
(<a href="https://github.com/johtela/vscode-modaledit/issues/7">#7</a>). The presets can be
also defined as JavaScript (<a href="https://github.com/johtela/vscode-modaledit/issues/9">#9</a>).
They are evaluated or &quot;compiled&quot; to JSON when import is run.</p>
<h3 id="improvements-to-search">Improvements to Search</h3>
<p>Search command has several new features:</p>
<ul>
<li>
<p>Multicursor search (<a href="https://github.com/johtela/vscode-modaledit/issues/5">#5</a>,
<a href="https://github.com/johtela/vscode-modaledit/pull/12">#12</a>) is now working.</p>
</li>
<li>
<p>There are four new parameters: <code>typeBeforeNextMatch</code>, <code>typeAfterNextMatch</code>,
<code>typeBeforePreviousMatch</code>, and <code>typeAfterPreviousMatch</code>. These can be used to
run key commands after <code>modaledit.nextMatch</code> and <code>modaledit.previousMathch</code>
commands. The need for these parameters arose when implementing Vim's <code>t</code> and
<code>f</code> key commands. These commands look for specified character and place the
cursor either on it or before it. Without the new parameters, it would not
be possible to emulate Vim's behavior using <code>modaledit.search</code>. This is
because by default, it selects the search string and search always starts from
the current cursor position. To make jumping to next and previous character
possible, we need to adjust the cursor position before and after the commands.</p>
</li>
<li>
<p>New parameter <code>wrapAround</code> causes the search to jump the beginning/end of
the file if it hits bottom/top. This closes issue <a href="https://github.com/johtela/vscode-modaledit/issues/8">#8</a></p>
</li>
<li>
<p>The implementation of <code>modaledit.search</code> and <code>modaledit.selectBetween</code>
commands have been refactored. Adding the new parameters described above made
it possible to simplify the implementation and remove hacky code. The changes
should not break existing functionality but make these commands work more
logically and consistently. For example, both of the commands now work
properly when they are used to extend the existing selection.</p>
</li>
</ul>
<h3 id="cursor-and-status-bar-configuration">Cursor and Status Bar Configuration</h3>
<p>You can now define a different cursor shape when selection is active in normal
mode using the <code>selectCursorStyle</code>. Also, you can
<a href="README.html#changing-status-bar">change the status bar text</a> shown in each
mode. It is possible to include icons in the status bar, if you like. This
should be sufficient to close issue
<a href="https://github.com/johtela/vscode-modaledit/issues/13">#13</a></p>
<p>A secondary status bar was added to show the keys that have been pressed so far.
It also shows help messages defined in bindings and  warnings from the search
command.</p>
<h3 id="bookmark-improvements">Bookmark Improvements</h3>
<p>There is a new command <code>modaledit.showBookmarks</code> that shows all the defined
bookmarks. You can jump to any of them by selecting one in the list. Also,
the bookmark can now be any string instead of a number. This actually worked
previously, but now documentation about this is updated too.</p>
<p>New parameter <code>select</code> in the <code>modaledit.goToBookmark</code> command extends selection
till the bookmark instead of putting the cursor on it. This makes it possible to
use bookmarks as selection scoping mechanism Ã  la Vim.</p>
<h3 id="changes-concerning-js-expressions">Changes Concerning JS Expressions</h3>
<p>New variables <code>__cmd</code> and <code>__rcmd</code> can be used in JS expressions. They contain
the key sequence that was pressed as a string. They correspond to expressions:</p>

<pre class="syntaxhighlight"><code>__cmd = __keys.join(<span class="string">''</span>)
__rcmd = __rkeys.join(<span class="string">''</span>)
</code></pre>
<p>In many cases, these variables allow you to write expressions that inspect the
key sequence in a shorter form.</p>
<p>All the variants of <code>__keys</code> or <code>__keySequence</code> variables now contain the actual
key sequence that was used to invoke the command. Previously they contained the
sequence that <em>the user</em> pressed. Since you can also invoke key commands
programmatically using <code>modaledit.typeNormalKeys</code>, this made implementing
reusable commands more difficult. You could not rely on the key sequence to
correspond to the path to the keybinding you were defining. Now you can rely
that the <code>__keys</code> variable and its variants contain the path to the binding,
which should make sure that commands work correctly when invoked through
<code>modaledit.typeNormalKeys</code>.</p>
<h3 id="other-changes">Other Changes</h3>
<ul>
<li>
<p>Configuration section called <code>selectbindings</code> can be used to define key
bindings that are in effect when selection is active. This allows you to
define different key sequences for same leader keys in normal mode and
selecion mode.</p>
<p>For example in Vim, the <code>d</code> key is in normal mode the leader key for sequences
such as <code>dw</code> (delete word) or <code>dip</code> (delete inside paragraph). In visual
(selection) mode, <code>d</code> deletes the selected text. Previously it was not
possible to have such keymaps, but with <code>selectbindings</code> you can now define
them.</p>
</li>
<li>
<p><code>selecting</code> flag is now refreshed when you switch between files. The select
mode no longer &quot;sticks&quot; between tabs.</p>
</li>
</ul>
<h2 id="version-2-1">Version 2.1</h2>
<p>Two new commands (courtesy of <a href="https://github.com/haberdashPI">David Little</a>):</p>
<ul>
<li><code>modaledit.enableSelection</code> turns selection mode on.</li>
<li><code>modaledit.cancelMultipleSelections</code> cancels selection mode preserving
multiple cursors.</li>
</ul>


    </div>
            <div class="stickypane">

    <div class="pagemenu">
        <h3>On This Page</h3>
            <ul class="pagetree">

            </ul>
    </div>

            </div>
        </div>
    </div>
    <script src="js/main.js"></script>

</body>
</html>